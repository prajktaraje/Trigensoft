<!DOCTYPE html>

<html lang="en">

  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% load static %}
    {% load i18n %}
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,500;0,600;0,700;1,500;1,600&display=swap" rel="stylesheet">
    <!-- Common CSS -->
    <link href="{% static 'static/css/style.css' %}" rel="stylesheet">
     <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <link href="{% static 'static/css/cx-navbar.css' %}" rel="stylesheet">
    <link href="{% static 'static/css/cx-sidebar.css' %}" rel="stylesheet">
    <!-- CSS -->
    <link href="{% static 'static/css/cx-dashboard.css' %}" rel="stylesheet">
    {% block style %}
    {% endblock %}
  </head>

  <body>
    <header>
      <nav class="navbar navbar-expand-lg cx-navbar">
        <div class="container-fluid">
          <div class="cx-logo-container">
            <button class="navbar-toggler" id="cx-sidebar-tmobile" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <img src="{% static 'static/images/Sidebar/ic_hamburger.svg' %}" alt="hamburger-menu" />
            </button>

          </div>
          <div class="cx-bread-crumb me-auto">
            {% block title %}
            {% endblock %}
          </div>

        </div>
      </nav>
    </header>
    <aside id="cx-sidebar">

      <div class="cx-sidebar-toggler" id="cx-sidebar-toggler">
        <button type="button" class="cxd-btn d-flex align-items-center">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(0, 0, 0, 1);">
            <path d="m13.061 4.939-2.122 2.122L15.879 12l-4.94 4.939 2.122 2.122L20.121 12z" />
            <path d="M6.061 19.061 13.121 12l-7.06-7.061-2.122 2.122L8.879 12l-4.94 4.939z" />
          </svg>
        </button>
      </div>
      <ul class="cx-list">
        {% if request.resolver_match.url_name == 'dashboard' %}
          <li class="cx-nav-active">
            <a href="{% url 'admin_panel:user_list'%}">
              <div class="cx-list-c">
                <i class='bx bxs-category'></i>
                <span>User List</span>
              </div>
            </a>
          </li>
        {% else %}
          <li>
            <a href="{% url 'admin_panel:user_list'%}">
              <div class="cx-list-c">
                <i class='bx bxs-category'></i>
                <span>User List</span>
              </div>
            </a>
          </li>
        {% endif %}
        {% if request.user.role.name == 'Admin' %}
          {% if request.resolver_match.url_name == 'admins' or request.resolver_match.url_name == 'add_admin' or request.resolver_match.url_name == 'admin_details'  or request.resolver_match.url_name == 'update_admin' or request.resolver_match.url_name == 'delete_admin' %}
            <li class="cx-nav-active">
              <a href="#">
                <div class="cx-list-c">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 53.072 43.753">
                    <path d="M39.4,43.918a1.165,1.165,0,0,1-1.16-1.17V40.88a9.4,9.4,0,0,1-2.2-1.3l-1.618.942a1.155,1.155,0,0,1-1.585-.427l-2.319-4.047a1.177,1.177,0,0,1,.423-1.6l1.591-.927a9.066,9.066,0,0,1,0-2.6l-1.591-.927a1.18,1.18,0,0,1-.423-1.6l2.319-4.047a1.163,1.163,0,0,1,.7-.545,1.15,1.15,0,0,1,.88.118l1.617.942a9.4,9.4,0,0,1,2.2-1.3V21.7a1.165,1.165,0,0,1,1.16-1.17h4.639a1.165,1.165,0,0,1,1.16,1.17v1.868a9.31,9.31,0,0,1,2.2,1.3l1.619-.942a1.154,1.154,0,0,1,1.584.427l2.32,4.047a1.178,1.178,0,0,1-.424,1.6l-1.591.927a9.066,9.066,0,0,1,0,2.6l1.591.927a1.18,1.18,0,0,1,.423,1.6L50.6,40.1a1.159,1.159,0,0,1-1.584.427L47.4,39.585a9.4,9.4,0,0,1-2.2,1.3v1.868a1.165,1.165,0,0,1-1.16,1.17Zm-2.321-11.7a4.639,4.639,0,1,0,4.639-4.678,4.639,4.639,0,0,0-4.639,4.678ZM0,43.917v-2.31A16.131,16.131,0,0,1,16.044,25.426h9.167a15.962,15.962,0,0,1,3.239.332,11.756,11.756,0,0,0,2.979,18.156h0ZM10.313,10.4A10.315,10.315,0,1,1,20.628,20.8,10.315,10.315,0,0,1,10.313,10.4Z" transform="translate(0 -0.17)" />
                  </svg>
                  <span>Admins</span>
                </div>
              </a>
            </li>
          {% else %}
            <li>
              <a href="#">
                <div class="cx-list-c">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 53.072 43.753">
                    <path d="M39.4,43.918a1.165,1.165,0,0,1-1.16-1.17V40.88a9.4,9.4,0,0,1-2.2-1.3l-1.618.942a1.155,1.155,0,0,1-1.585-.427l-2.319-4.047a1.177,1.177,0,0,1,.423-1.6l1.591-.927a9.066,9.066,0,0,1,0-2.6l-1.591-.927a1.18,1.18,0,0,1-.423-1.6l2.319-4.047a1.163,1.163,0,0,1,.7-.545,1.15,1.15,0,0,1,.88.118l1.617.942a9.4,9.4,0,0,1,2.2-1.3V21.7a1.165,1.165,0,0,1,1.16-1.17h4.639a1.165,1.165,0,0,1,1.16,1.17v1.868a9.31,9.31,0,0,1,2.2,1.3l1.619-.942a1.154,1.154,0,0,1,1.584.427l2.32,4.047a1.178,1.178,0,0,1-.424,1.6l-1.591.927a9.066,9.066,0,0,1,0,2.6l1.591.927a1.18,1.18,0,0,1,.423,1.6L50.6,40.1a1.159,1.159,0,0,1-1.584.427L47.4,39.585a9.4,9.4,0,0,1-2.2,1.3v1.868a1.165,1.165,0,0,1-1.16,1.17Zm-2.321-11.7a4.639,4.639,0,1,0,4.639-4.678,4.639,4.639,0,0,0-4.639,4.678ZM0,43.917v-2.31A16.131,16.131,0,0,1,16.044,25.426h9.167a15.962,15.962,0,0,1,3.239.332,11.756,11.756,0,0,0,2.979,18.156h0ZM10.313,10.4A10.315,10.315,0,1,1,20.628,20.8,10.315,10.315,0,0,1,10.313,10.4Z" transform="translate(0 -0.17)" />
                  </svg>
                  <span>Admins</span>
                </div>
              </a>
            </li>
          {% endif %}
        {% endif %}

      </ul>
    </aside>
    <!-- Account Popup -->
    <div class="cx-account-popup">
      <div class="cx-account-in">
        <ul>
          <li><a href="#"><i class='bx bx-log-out-circle' ></i>Logout</a></li>
        </ul>
      </div>
    </div>
    {% block content %}
    {% endblock %}
    <!-- Optional JavaScript; choose one of the two! -->
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script> -->
    <!-- Sidebar JS -->
    <script>
      var btn = document.getElementById('cx-sidebar-toggler');
      var sidebar = document.getElementById('cx-sidebar');
      var brandLogo = document.querySelector('.cx-sidebar-brand');
      var navList = document.querySelector('.cx-list');
      var navListActive = document.querySelectorAll('.cx-list li');
      var navbar = document.querySelector('header');
      var img = document.querySelector('img.cx-brand-icon');
      var src= '{% static "static/images/Sidebar/logo.png" %}';
      var container = document.querySelector('.cx-container');
      var stogglerMobile = document.getElementById('cx-sidebar-tmobile');

      stogglerMobile.addEventListener('click', function() {
        sidebar.classList.toggle('cx-mactive');
      });

      btn.addEventListener('click', function() {
        btn.classList.toggle('cx-active');
        sidebar.classList.toggle('cx-active');
        brandLogo.classList.toggle('cx-active');
        navList.classList.toggle('cx-active');
        navbar.classList.toggle('cx-active');
        if(img.classList.contains('cx-change')) {
          img.src = '{% static "static/images/Sidebar/logo.png" %}';
          img.classList.remove('cx-change');
          img.style.width = 150 + 'px';
          img.style.marginTop = 0 + "px";
          container.style.marginLeft = 250 + "px";
        }
        else {
          img.classList.add('cx-change');
          img.src = '{% static "static/images/Sidebar/logo_small.png" %}';
          img.style.width = 40 + 'px';
          img.style.marginTop = 15 + "px";
          container.style.marginLeft = 70 + "px";
        }
      });
      navlistActive.forEach(active, () => {
        active.addEventListener('click', function(){
          active.classList.add('cx-nav-active');
        });
      });
    </script>
    <!-- Account Popup -->
    <script>
      var popupContainer = document.querySelector(".cx-account");
      var popup = document.querySelector(".cx-account-popup");

      popupContainer.addEventListener('click', function() {
        popup.classList.toggle('cx-active');
      });

      window.addEventListener('mouseup',function(event){
        if(event.target != popupContainer && event.target.parentNode != popupContainer){
          popup.classList.remove('cx-active');
        }
      });
    </script>
    {% block script %}
    {% endblock %}
  </body>

</html>
